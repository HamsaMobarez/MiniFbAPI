2020-11-15 05:02:41.1762||ERROR|MiniFB.BAL.FileUploadManager.FileUpload|upload exception System.NullReferenceException: Object reference not set to an instance of an object.
   at MiniFB.BAL.FileUploadManager.FileUpload.WriteFile(String host, IFormFile file, String folder) in H:\MiniFB_API\MiniFB.BAL\FileUploadManager\FileUplaod.cs:line 34
2020-11-15 05:02:51.6607||ERROR|MiniFB_API.Controllers.PostController|Error occured during adding new post MiniFB.Infrastructure.Common.BusinessException: Null Refrence exception
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at MiniFB.BAL.FileUploadManager.FileUpload.WriteFile(String host, IFormFile file, String folder) in H:\MiniFB_API\MiniFB.BAL\FileUploadManager\FileUplaod.cs:line 69
   at MiniFB.BAL.FileUploadManager.FileUpload.UploadImage(IFormFile image, String host) in H:\MiniFB_API\MiniFB.BAL\FileUploadManager\FileUplaod.cs:line 22
   at MiniFB.BAL.PostManager.PostService.AddPost(PostDto postDto, String host) in H:\MiniFB_API\MiniFB.BAL\PostManager\PostService.cs:line 53
   --- End of inner exception stack trace ---
   at MiniFB.BAL.PostManager.PostService.AddPost(PostDto postDto, String host) in H:\MiniFB_API\MiniFB.BAL\PostManager\PostService.cs:line 76
   at MiniFB_API.Controllers.PostController.AddPost(PostDto post) in H:\MiniFB_API\MiniFB_API\Controllers\PostController.cs:line 34
2020-11-15 05:07:54.6131||INFO|MiniFB.BAL.FileUploadManager.FileUpload|webRootPath:H:\MiniFB_API\MiniFB_API\wwwroot, contentRootPath: H:\MiniFB_API\MiniFB_API 
2020-11-15 05:07:54.6400||INFO|MiniFB.BAL.FileUploadManager.FileUpload|path:H:\MiniFB_API\MiniFB_API\wwwroot\Images\e5bf16f1-cb29-44b4-b668-020efcd0a7a7.jpg, dataBasePath: https://localhost:44327\Images\e5bf16f1-cb29-44b4-b668-020efcd0a7a7.jpg 
2020-11-15 05:08:15.4217||ERROR|MiniFB.BAL.FileUploadManager.FileUpload|upload exception ImageMagick.MagickBlobErrorException: unable to open image 'H:\MiniFB_API\MiniFB_API\wwwroot\Images\e5bf16f1-cb29-44b4-b668-020efcd0a7a7.jpg': No such file or directory @ error/blob.c/OpenBlob/3537
   at ImageMagick.MagickExceptionHelper.Check(IntPtr exception)
   at ImageMagick.NativeHelper.CheckException(IntPtr exception)
   at ImageMagick.MagickImage.NativeMagickImage.WriteFile(IMagickSettings`1 settings)
   at ImageMagick.MagickImage.Write(String fileName)
   at MiniFB.BAL.FileUploadManager.FileUpload.WriteFile(String host, IFormFile file, String folder) in H:\MiniFB_API\MiniFB.BAL\FileUploadManager\FileUplaod.cs:line 63
2020-11-15 05:10:02.7135||INFO|MiniFB.BAL.FileUploadManager.FileUpload|webRootPath:H:\MiniFB_API\MiniFB_API\wwwroot, contentRootPath: H:\MiniFB_API\MiniFB_API 
2020-11-15 05:10:23.2353||INFO|MiniFB.BAL.FileUploadManager.FileUpload|path:H:\MiniFB_API\MiniFB_API\wwwroot\Images\82cfd8e7-90db-42ee-ade7-b483bb4a2bb7.jpg, dataBasePath: https://localhost:44327\Images\82cfd8e7-90db-42ee-ade7-b483bb4a2bb7.jpg 
2020-11-15 05:11:33.7902||ERROR|MiniFB_API.Controllers.PostController|Error occured during adding new post MiniFB.Infrastructure.Common.BusinessException: error Occured 
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Posts_Users_UserId". The conflict occurred in database "MiniFbDB", table "dbo.Users", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:301a541e-452c-4745-a152-08fcffda05b9
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(DbContext _, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at MiniFB.DAL.UnitofWork.UnitOfWork.SaveChanges() in H:\MiniFB_API\MiniFB.DAL\UnitofWork\UnitOfWork.cs:line 33
   at MiniFB.BAL.PostManager.PostService.AddPost(PostDto postDto, String host) in H:\MiniFB_API\MiniFB.BAL\PostManager\PostService.cs:line 61
   --- End of inner exception stack trace ---
   at MiniFB.BAL.PostManager.PostService.AddPost(PostDto postDto, String host) in H:\MiniFB_API\MiniFB.BAL\PostManager\PostService.cs:line 88
   at MiniFB_API.Controllers.PostController.AddPost(PostDto post) in H:\MiniFB_API\MiniFB_API\Controllers\PostController.cs:line 34
2020-11-15 05:12:17.5188||INFO|MiniFB.BAL.FileUploadManager.FileUpload|webRootPath:H:\MiniFB_API\MiniFB_API\wwwroot, contentRootPath: H:\MiniFB_API\MiniFB_API 
2020-11-15 05:12:17.5449||INFO|MiniFB.BAL.FileUploadManager.FileUpload|path:H:\MiniFB_API\MiniFB_API\wwwroot\Images\31de2dbc-2fc5-41e5-b7be-c73d09a058cd.jpg, dataBasePath: https://localhost:44327\Images\31de2dbc-2fc5-41e5-b7be-c73d09a058cd.jpg 
2020-11-15 05:14:21.1332||INFO|MiniFB.BAL.FileUploadManager.FileUpload|webRootPath:H:\MiniFB_API\MiniFB_API\wwwroot, contentRootPath: H:\MiniFB_API\MiniFB_API 
2020-11-15 05:14:21.1584||INFO|MiniFB.BAL.FileUploadManager.FileUpload|path:H:\MiniFB_API\MiniFB_API\wwwroot\Images\56e51843-9cbd-45f9-ba5e-9011ccdddb92.jpg, dataBasePath: https://localhost:44327\Images\56e51843-9cbd-45f9-ba5e-9011ccdddb92.jpg 
2020-11-15 15:11:17.7915||INFO|MiniFB.BAL.FileUploadManager.FileUpload|webRootPath:H:\MiniFB_API\MiniFB_API\wwwroot, contentRootPath: H:\MiniFB_API\MiniFB_API 
2020-11-15 15:11:17.8204||INFO|MiniFB.BAL.FileUploadManager.FileUpload|path:H:\MiniFB_API\MiniFB_API\wwwroot\Images\51a878c9-cc7e-4348-9f21-4eb5730ebaa5.jpg, dataBasePath: https://localhost:44327\Images\51a878c9-cc7e-4348-9f21-4eb5730ebaa5.jpg 
